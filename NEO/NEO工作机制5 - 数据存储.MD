# NEO的数据存储机制
---
### LevelDB的简介
* LevelDB是Google开源的持久化KV单机数据库
* KV存储机制，即使用键值对（Key-Value）形式进行数据的组织、索引和存储
* LevelDB具有很高的随机写，顺序读/写性能，但是随机读的性能很一般，也就是说，LevelDB很适合应用在查询较少，而写很多的场景

### 区块和交易数据的存储
* NEO最核心的数据，用一个类型编号加上区块或交易的Hash作为key
* 在保存区块数据时，会使用LevelDB的Batch机制，一次批量写入该区块所承载的所有交易
* 在保存区块数据的同时，会运行交易里的合约脚本，并保存合约脚本执行时修改过的各类状态数据

### 状态类数据的存储
* UTXO模型之外的区块链账户数据，包括账户余额、全局资产状态、已发布的合约信息、键值存储数据、记账候选人信息等
* 在保存区块数据的过程中，如果发生了状态类数据的变更，会同步保存这些状态类数据
* 这些状态数据也是使用一个类型编号加上一个Hash作为key

### 钱包数据的存储